(this["webpackJsonpnh-nc-games-fe"]=this["webpackJsonpnh-nc-games-fe"]||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var r,c,a,i,o,s,d,b,u,j,l,x,p,m,O,g,h,f,v,w,y,k,_,C,S,N,L,I,E,q,A,D,R,T,U,z,J,P,Q,B=t(1),F=t.n(B),G=t(28),H=t.n(G),M=(t(38),t(2)),V=(t(39),t(8)),W=t(4),K=t(3),X=t(0),Y=K.a.header(r||(r=Object(M.a)(["\n  background: #0a1931;\n  color: #ffc947;\n\n  padding: 0.25em 1em;\n"]))),Z=function(e){var n=e.text,t=e.styling;return Object(X.jsx)(Y,{className:t,children:Object(X.jsx)("h1",{children:n})})},$=t(5),ee=t(18),ne=K.a.button(c||(c=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #fddc1e;\n  color: #fddc1e;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n"]))),te=K.a.select(a||(a=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #fddc1e;\n  color: #fddc1e;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n\n  option {\n    background: transparent;\n    color: #fddc1e;\n    display: flex;\n  }\n"]))),re=K.a.div(i||(i=Object(M.a)(["\n  background: #0a1931;\n  color: #fddc1e;\n\n  padding: 0.25em 1em;\n"]))),ce=function(e){var n=e.setQueries,t=Object(B.useState)("desc"),r=Object($.a)(t,2),c=r[0],a=r[1];return Object(X.jsxs)(re,{className:"query-selector",children:["Sort by:"," ",Object(X.jsxs)(te,{onChange:function(e){return t=e.target.value,void n((function(e){var n=Object(ee.a)({},e);return n.sort_by=t,n}));var t},children:[Object(X.jsx)("option",{value:"created_at",children:"Created at"}),Object(X.jsx)("option",{value:"comment_count",children:"Comment Count"}),Object(X.jsx)("option",{value:"votes",children:"Votes"})]}),Object(X.jsx)(ne,{onClick:function(){a((function(e){return"desc"===e?"asc":"desc"})),n((function(e){var n=Object(ee.a)({},e);return n.order=c,n}))},children:c})]})},ae=t(32),ie=t.n(ae).a.create({baseURL:"https://nh-nc-games.herokuapp.com/api"}),oe=function(e,n){return ie.patch("comments/".concat(e),{inc_votes:n}).then((function(e){return e.data.comment}))},se=function(e,n){return ie.patch("reviews/".concat(e),{inc_votes:n}).then((function(e){return e.data.review}))},de=Object(B.createContext)(),be=function(e){var n=e.children,t=Object(B.useState)({}),r=Object($.a)(t,2),c=r[0],a=r[1],i=!!c.username;return Object(X.jsx)(de.Provider,{value:{user:c,setUser:a,isLoggedIn:i,logout:function(){a({})}},children:n})},ue=K.a.button(o||(o=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #0a1931;\n  color: #0a1931;\n  margin: 0 1em;\n  padding: 0.25em 0.25em;\n"]))),je=K.a.p(s||(s=Object(M.a)(["\n  padding: 2px;\n  color: #0a1931;\n  font-weight: bold;\n  border: 2px solid #0a1931;\n  border-radius: 3px;\n"]))),le=K.a.div(d||(d=Object(M.a)(["\n  background: transparent;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),xe=function(e){var n=e.voteType,t=e.voteId,r=e.votes,c=Object(B.useContext)(de).isLoggedIn,a=Object(B.useState)(0),i=Object($.a)(a,2),o=i[0],s=i[1];return Object(X.jsxs)(le,{className:"vote-buttons",children:[Object(X.jsx)(ue,{onClick:function(){"comment"===n&&(s((function(e){return e+1})),oe(t,1)),"review"===n&&(s((function(e){return e+1})),se(t,1))},disabled:!c,children:"\u2b06\ufe0f"}),Object(X.jsx)(je,{children:r+o}),Object(X.jsx)(ue,{onClick:function(){"comment"===n&&(s((function(e){return e-1})),oe(t,-1)),"review"===n&&(s((function(e){return e-1})),se(t,-1))},disabled:!c,children:"\u2b07\ufe0f"})]})},pe=K.a.div(b||(b=Object(M.a)(['\n  display: grid;\n  width: 300px;\n  grid-template-columns: 300px;\n  grid-template-rows: 210px 75px 50px 30px;\n  grid-template-areas: "image" "text1" "text2" "vote";\n  border-radius: 18px;\n  border: solid 2px black;\n  text-align: center;\n  background: #feddbe;\n  padding: 2px;\n']))),me=K.a.img(u||(u=Object(M.a)(["\n  grid-area: image;\n  max-width: 100%;\n  min-width: 100%\n  max-height: 100%;\n  min-height-100%;\n  border-top-left-radius: 16px;\n  border-top-right-radius: 16px;\n  overflow: hidden;\n"]))),Oe=K.a.div(j||(j=Object(M.a)(["\n  grid-area: image;\n  border-top-left-radius: 16px;\n  border-top-right-radius: 16px;\n  overflow: hidden;\n"]))),ge=K.a.div(l||(l=Object(M.a)(['\n  grid-area: "text1";\n  display: flex;\n  flex-direction: column;\n  column-cap: 10px;\n  justify-content: center;\n  align-items: center;\n']))),he=K.a.div(x||(x=Object(M.a)(['\n  grid-area: "text2";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n']))),fe=Object(K.a)(V.b)(p||(p=Object(M.a)(['\n  grid-area: "text1";\n  color: #185adb;\n  font-weight: bold;\n  &:hover {\n    color: orange;\n  }\n']))),ve=K.a.p(m||(m=Object(M.a)(["\n  padding: 5px;\n  color: #0a1931;\n  font-weight: bold;\n"]))),we=K.a.h4(O||(O=Object(M.a)(['\n  grid-area: "text1";\n  color: #185adb;\n  font-weight: bold;\n']))),ye=function(e){var n=e.review;return Object(X.jsxs)(pe,{className:"review-card",children:[Object(X.jsx)(Oe,{children:Object(X.jsx)(me,{src:n.review_img_url,alt:n.title})}),Object(X.jsxs)(ge,{children:[Object(X.jsx)(fe,{to:"/reviews/".concat(n.review_id),children:n.title}),Object(X.jsx)(we,{className:"category",children:n.category})]}),Object(X.jsxs)(he,{children:[Object(X.jsxs)(ve,{className:"owner",children:["Author: ",n.owner]}),Object(X.jsxs)(ve,{className:"comment-count",children:["Comments: ",n.comment_count]})]}),Object(X.jsx)(xe,{voteType:"review",voteId:n.review_id,votes:n.votes})]})},ke=K.a.ul(g||(g=Object(M.a)(["\n  display: flex;\n  row-gap: 15px;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-evenly;\n"]))),_e=function(e){var n=e.currentCategory,t=e.queries,r=Object(B.useState)([]),c=Object($.a)(r,2),a=c[0],i=c[1],o=Object(B.useState)(!1),s=Object($.a)(o,2),d=s[0],b=s[1],u=Object(B.useState)(null),j=Object($.a)(u,2),l=j[0],x=j[1];return Object(B.useEffect)((function(){var e,r,c;x(!1),b(!0),(e=n,r=t.sort_by,c=t.order,ie.get("/reviews",{params:{category:e,sort_by:r,order:c}}).then((function(e){return e.data.reviews}))).then((function(e){i(e),b(!1)})).catch((function(e){404===e.response.status&&(b(!1),x("Category not found."))}))}),[n,t]),d?Object(X.jsx)("span",{children:"Loading..."}):l?Object(X.jsx)("span",{children:l}):Object(X.jsx)(ke,{className:"reviews-list",children:a.map((function(e){return Object(X.jsx)(ye,{review:e},e.review_id)}))})},Ce=function(){var e=Object(W.g)().slug,n=Object(B.useState)({sort_by:void 0,order:void 0}),t=Object($.a)(n,2),r=t[0],c=t[1];return Object(X.jsxs)("div",{className:"reviews",children:[Object(X.jsx)(ce,{setQueries:c}),Object(X.jsx)(_e,{currentCategory:e,queries:r})]})},Se=K.a.div(h||(h=Object(M.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 60%;\n  border-radius: 18px;\n  border: solid 2px black;\n  text-align: center;\n  align-items: center;\n  background: #feddbe;\n  padding: 2px;\n  margin: auto;\n"]))),Ne=K.a.form(f||(f=Object(M.a)(["\n  padding: 2px;\n"]))),Le=K.a.input(v||(v=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #0a1931;\n  color: #0a1931;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n"]))),Ie=K.a.button(w||(w=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #0a1931;\n  color: #0a1931;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n"]))),Ee=function(){var e=Object(B.useContext)(de),n=e.user,t=e.setUser,r=e.isLoggedIn,c=e.logout,a=Object(B.useState)(""),i=Object($.a)(a,2),o=i[0],s=i[1],d=Object(B.useState)(null),b=Object($.a)(d,2),u=b[0],j=b[1];return r?Object(X.jsxs)(Se,{children:[Object(X.jsxs)("h2",{children:["Welcome ",n.username]}),Object(X.jsx)(Ie,{onClick:function(){return c()},children:"Logout"})]}):Object(X.jsxs)(Se,{className:"login-form",children:[Object(X.jsxs)(Ne,{onSubmit:function(e){var n;e.preventDefault(),j(null),(n=o,ie.get("/users/".concat(n)).then((function(e){return e.data.user}))).then((function(e){t(e)})).catch((function(e){j(e.response.data.msg)}))},children:[Object(X.jsx)("label",{htmlFor:"username",children:"Username: "}),Object(X.jsx)("input",{type:"text",id:"username",value:o,onChange:function(e){s(e.target.value)}}),Object(X.jsx)(Le,{type:"submit",value:"Login"})]}),Object(X.jsx)("span",{children:u})]})},qe=K.a.div(y||(y=Object(M.a)(["\n  background: #185adb;\n  color: #ffc947;\n\n  padding: 0.25em 1em;\n"]))),Ae=Object(K.a)(V.b)(k||(k=Object(M.a)(["\n  color: #ffc947;\n  font-weight: bold;\n  &:hover {\n    color: orange;\n  }\n"]))),De=Object(K.a)(Ae)(_||(_=Object(M.a)(["\n  color: #f78b11;\n"]))),Re=function(){var e=Object(B.useState)([]),n=Object($.a)(e,2),t=n[0],r=n[1];return Object(B.useEffect)((function(){ie.get("/categories").then((function(e){return e.data.categories})).then((function(e){r(e)}))}),[]),Object(X.jsxs)(qe,{className:"nav-bar",children:[Object(X.jsx)(Ae,{to:"/",children:"All Reviews"}),t.map((function(e){return Object(X.jsx)(Ae,{to:"/categories/".concat(e.slug),children:e.slug},e.slug)})),Object(X.jsx)(De,{to:"/login",children:"Login"})]})},Te=t(10),Ue=K.a.div(C||(C=Object(M.a)(['\n  display: grid;\n  width: 75%;\n  grid-template-columns: 1fr;\n  grid-template-rows: 50px 125px 40px;\n  grid-template-areas: "top" "body" "bottom";\n  border-radius: 18px;\n  border: solid 2px black;\n  text-align: center;\n  background: #feddbe;\n  padding: 2px;\n  margin: auto;\n']))),ze=K.a.div(S||(S=Object(M.a)(["\n  grid-area: top;\n  display: flex;\n  justify-content: space-between;\n  padding: 2px;\n"]))),Je=K.a.div(N||(N=Object(M.a)(["\n  display: flex;\n  justify-content: flex-start;\n  backgound: #185adb;\n"]))),Pe=K.a.div(L||(L=Object(M.a)(["\n  display: flex;\n  grid-area: bottom;\n  justify-content: center;\n  padding: 2px;\n"]))),Qe=K.a.p(I||(I=Object(M.a)(["\n  padding: 5px;\n  color: #0a1931;\n  font-weight: bold;\n"]))),Be=K.a.button(E||(E=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #0a1931;\n  color: #0a1931;\n  margin: 0 1em;\n  padding: 0.25em 0.25em;\n"]))),Fe=function(e){var n=e.comment,t=Object(B.useContext)(de).user,r=Object(B.useState)(!1),c=Object($.a)(r,2),a=c[0],i=c[1],o=function(e){(function(e){return ie.delete("comments/".concat(e)).then((function(e){return e}))})(e).then((function(e){i(!0)}))};return a?Object(X.jsx)("span",{children:"Comment deleted."}):Object(X.jsxs)(Ue,{className:"comment-card",children:[Object(X.jsxs)(ze,{children:[Object(X.jsx)(Qe,{children:n.author}),Object(X.jsx)(Qe,{children:n.created_at})]}),Object(X.jsx)(Je,{children:Object(X.jsx)(Qe,{children:n.body})}),Object(X.jsxs)(Pe,{children:[n.author===t.username?Object(X.jsx)(Be,{onClick:function(){return o(n.comment_id)},children:"Delete comment"}):null,Object(X.jsx)(xe,{voteType:"comment",voteId:n.comment_id,votes:n.votes})]})]})},Ge=t(33),He=K.a.div(q||(q=Object(M.a)(["\n  display: flex;\n  width: 65%;\n  margin: auto;\n  background: #feddbe;\n  padding: 2px;\n  border-radius: 18px;\n  border: solid 2px black;\n  align-items: center;\n  justify-content: center;\n"]))),Me=K.a.textarea(A||(A=Object(M.a)(["\n  background: transparent;\n  width: 100%;\n  margin: auto;\n  resize: none;\n  color: #0a1931;\n  font-size: 1em;\n  border: 2px solid #0a1931;\n  border-radius: 3px;\n"]))),Ve=K.a.input(D||(D=Object(M.a)(["\n  background: transparent;\n  border-radius: 3px;\n  border: 2px solid #0a1931;\n  color: #0a1931;\n  margin: 0 1em;\n  padding: 0.25em 1em;\n"]))),We=function(e){var n=e.review_id,t=e.setComments,r=Object(B.useState)(),c=Object($.a)(r,2),a=c[0],i=c[1],o=Object(Te.useContext)(de),s=o.user,d=o.isLoggedIn;return Object(X.jsx)(He,{className:"post-comment",children:Object(X.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,n,t){return ie.post("/reviews/".concat(e,"/comments"),{username:n,body:t}).then((function(e){return e.data.comment}))}(n,s.username,a).then((function(e){t((function(n){return[e].concat(Object(Ge.a)(n))}))}))},children:[Object(X.jsx)(Me,{placeholder:"comment",rows:"4",required:!0,value:a,onChange:function(e){return i(e.target.value)}})," ",Object(X.jsx)("br",{}),Object(X.jsx)(Ve,{type:"submit",value:"Post comment",disabled:!d})]})})},Ke=function(e){var n=e.review_id,t=Object(B.useState)([]),r=Object($.a)(t,2),c=r[0],a=r[1],i=Object(B.useState)(!0),o=Object($.a)(i,2),s=o[0],d=o[1],b=Object(B.useState)(null),u=Object($.a)(b,2),j=u[0],l=u[1];return Object(Te.useEffect)((function(){d(!0),l(null),function(e){return ie.get("/reviews/".concat(e,"/comments")).then((function(e){return e.data.comments}))}(n).then((function(e){a(e),d(!1)})).catch((function(e){404===e.response.status&&(d(!1),l("No comments yet!"))}))}),[n]),s?Object(X.jsx)("span",{children:"Loading..."}):j?Object(X.jsx)("span",{children:j}):Object(X.jsxs)("div",{className:"comment-list",children:[Object(X.jsx)(We,{review_id:n,setComments:a}),c.map((function(e){return Object(X.jsx)(Fe,{comment:e},e.comment_id)}))]})},Xe=K.a.div(R||(R=Object(M.a)(['\n  display: grid;\n  width: 75%;\n  margin: auto;\n  grid-template-columns: auto;\n  grid-template-rows: 150px 150px 100x 30px;\n  grid-template-areas: "image" "text1" "text2" "vote";\n  border-radius: 18px;\n  border: solid 2px black;\n  text-align: center;\n  background: #feddbe;\n  padding: 2px;\n']))),Ye=K.a.div(T||(T=Object(M.a)(['\n  grid-area: "text1";\n  display: flex;\n  flex-direction: column;\n  column-cap: 10px;\n  justify-content: center;\n  align-items: center;\n']))),Ze=K.a.div(U||(U=Object(M.a)(["\n  grid-area: image;\n  border-top-left-radius: 16px;\n  border-top-right-radius: 16px;\n  overflow: hidden;\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n  }\n"]))),$e=K.a.h4(z||(z=Object(M.a)(['\n  grid-area: "text1";\n  color: #185adb;\n  font-weight: bold;\n']))),en=K.a.p(J||(J=Object(M.a)(["\n  padding: 5px;\n  color: #0a1931;\n  font-weight: bold;\n"]))),nn=K.a.h4(P||(P=Object(M.a)(['\n  grid-area: "text1";\n  color: #185adb;\n  font-weight: bold;\n']))),tn=function(e){var n=e.review_id,t=e.setErrSpan,r=Object(B.useState)(),c=Object($.a)(r,2),a=c[0],i=c[1],o=Object(B.useState)(!0),s=Object($.a)(o,2),d=s[0],b=s[1];return Object(Te.useEffect)((function(){b(!0),function(e){return ie.get("reviews/".concat(e)).then((function(e){return e.data.review}))}(n).then((function(e){i(e),b(!1)})).catch((function(e){404===e.response.status&&(t("Review not found."),b(!1))}))}),[n]),d?Object(X.jsx)("span",{children:"Loading..."}):Object(X.jsxs)(Xe,{className:"full-review",children:[Object(X.jsx)(Ze,{children:Object(X.jsx)("img",{src:a.review_img_url,alt:a.title})}),Object(X.jsxs)(Ye,{children:[Object(X.jsx)($e,{children:a.title}),Object(X.jsx)(nn,{children:a.category}),Object(X.jsxs)(en,{children:["Review author: ",a.owner]}),Object(X.jsxs)(en,{children:["Designer: ",a.designer]})]}),Object(X.jsx)(en,{children:a.review_body}),Object(X.jsx)(xe,{voteType:"review",voteId:a.review_id,votes:a.votes})]})},rn=function(){var e=Object(W.g)().review_id,n=Object(B.useState)(null),t=Object($.a)(n,2),r=t[0],c=t[1];return r?Object(X.jsx)("span",{children:r}):Object(X.jsxs)("div",{className:"review-page",children:[Object(X.jsx)(tn,{review_id:e,setErrSpan:c}),Object(X.jsx)(Ke,{review_id:e})]})},cn=K.a.div(Q||(Q=Object(M.a)(["\n  background-color: #009dae;\n  min-height: 100vh;\n  padding-bottom: 1px;\n"])));var an=function(){return Object(X.jsx)(V.a,{children:Object(X.jsxs)(cn,{className:"App",children:[Object(X.jsx)(Z,{text:"NC House of Games",styling:"App-header"}),Object(X.jsx)(Re,{}),Object(X.jsxs)(W.c,{children:[Object(X.jsx)(W.a,{path:"/",element:Object(X.jsx)(Ce,{})}),Object(X.jsx)(W.a,{path:"/categories/:slug",element:Object(X.jsx)(Ce,{})}),Object(X.jsx)(W.a,{path:"/login",element:Object(X.jsx)(Ee,{})}),Object(X.jsx)(W.a,{path:"/reviews/:review_id",element:Object(X.jsx)(rn,{})})]})]})})};H.a.render(Object(X.jsx)(F.a.StrictMode,{children:Object(X.jsx)(be,{children:Object(X.jsx)(an,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f355d7d1.chunk.js.map